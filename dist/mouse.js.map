{"version":3,"sources":["src/mouse.js"],"names":[],"mappings":"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","file":"src/mouse.js","sourcesContent":["// Borrowed from Parable of the Polygons by Vi Hart and Nicky Case!\n\n(function(exports){\n\n\t// Singleton\n\tvar Mouse = {\n\t    x: 0,\n\t    y: 0,\n\t    pressed: false,\n\t    enabled: true\n\t};\n\texports.Mouse = Mouse;\n\n\tvar container = document.getElementById(\"bird-academy-container\");\n\n\t// Event Handling\n\tvar onMouseMove;\n\tvar onTouchMove;\n\n\t// Cursor\n\tMouse.isOverDraggable = false;\n\n\tfunction updateCursor() {}\n\n\tfunction fixPosition() {\n\t    const rect = container.getBoundingClientRect();\n\t    Mouse.x -= rect.left;\n\t    Mouse.y -= rect.top;\n\t    Mouse.x = Mouse.x / Mouse.scalingFactor;\n\t    Mouse.y = Mouse.y / Mouse.scalingFactor;\n\t}\n\n\tcontainer.addEventListener(\"mousedown\", function(event) {\n\t    if (!Mouse.enabled) {\n\t        return;\n\t    }\n\t    updateCursor();\n\t    Mouse.pressed = true;\n\t    onMouseMove(event);\n\t    event.preventDefault();\n\t    event.stopPropagation();\n\t}, false);\n\n\tcontainer.addEventListener(\"mouseup\", function(event) {\n\t    if (!Mouse.enabled) {\n\t        return;\n\t    }\n\t    updateCursor();\n\t    Mouse.pressed = false;\n\t    event.preventDefault();\n\t    event.stopPropagation();\n\t}, false);\n\n\tcontainer.addEventListener(\"mousemove\", onMouseMove = function(event) {\n\t    if (!Mouse.enabled) {\n\t        return;\n\t    }\n\t    updateCursor();\n\t    Mouse.x = event.clientX;\n\t    Mouse.y = event.clientY;\n\t    fixPosition();\n\t    event.preventDefault();\n\t    event.stopPropagation();\n\t}, false);\n\n\tcontainer.addEventListener(\"touchstart\", function(event) {\n\t    if (!Mouse.enabled) {\n\t        return;\n\t    }\n\t    Mouse.pressed = true;\n\t    onTouchMove(event);\n\t    // event.preventDefault();\n\t    // event.stopPropagation();\n\t}, false);\n\n\tcontainer.addEventListener(\"touchend\", function(event) {\n\t    if (!Mouse.enabled) {\n\t        return;\n\t    }\n\t    Mouse.pressed = false;\n\t    // event.preventDefault();\n\t    // event.stopPropagation();\n\t}, false);\n\n\tcontainer.addEventListener(\"touchmove\", onTouchMove = function(event) {\n\t    if (!Mouse.enabled) {\n\t        return;\n\t    }\n\n\t    Mouse.x = event.changedTouches[0].clientX;\n\t    Mouse.y = event.changedTouches[0].clientY;\n\t    fixPosition();\n\t    // event.preventDefault();\n\t    // event.stopPropagation();\n\t}, false);\n\n})(window);"]}